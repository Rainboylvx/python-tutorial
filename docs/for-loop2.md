# Python 循环进阶：嵌套 for 循环与九九乘法表

在之前的学习中，我们了解了 `for` 循环的基本用法，它可以帮助我们重复执行一段代码。但有时候，我们需要在循环内部再进行循环，这就引出了**嵌套循环**的概念。嵌套循环就像是“循环中的循环”，一个循环（外层循环）每执行一次，其内部的另一个循环（内层循环）就会完整地执行一遍。

本篇文章将通过经典的“九九乘法表”案例，带你深入理解嵌套 `for` 循环的用法。

## 九九乘法表

九九乘法表是一个很好的例子，它展示了如何使用嵌套循环来生成有规律的输出。

9x9乘法表如下：
```
1x1=1
2x1=2 2x2=4
3x1=3 3x2=6 3x3=9
...
9x1=9 9x2=18 ... 9x9=81
```

观察规律：

1.  每一行的公式个数和行数相同。我们用 `$i$` 表示行数。
2.  每一行的每一个公式的第一个数字和行数相同，也就是 `$i$`。
3.  每一行的每一个公式的第二个数字从 `$1$` 开始递增到行数 `$i$`。我们用 `$j$` 表示第二个数字。
4.  每一行的每一个公式的结果是第一个数字和第二个数字的乘积，也就是 `$i*j$`。

根据这些规律，我们可以写出如下的 Python 代码：

```python
for i in range(1,10):
    for j in range(1,i+1):
        print(f"{j}x{i}={i*j}",end=" ")
    print()
```

## 解释代码

让我们一步步来理解这段代码是如何生成九九乘法表的：

1.  **外层循环：`for i in range(1,10):`**
    *   这个循环控制着乘法表的“行”。`range(1, 10)` 会生成从 1 到 9 的数字序列（不包含 10）。
    *   变量 `i` 在每次外层循环中依次取值 1, 2, 3, ..., 9。
    *   `i` 代表了当前乘法表的“行数”，也代表了每一行中乘法公式的第二个数字（被乘数）。

2.  **内层循环：`for j in range(1,i+1):`**
    *   这个循环控制着每一行中的“列”，也就是每一行要打印多少个乘法公式。
    *   `range(1, i+1)` 会生成从 1 到 `i` 的数字序列（包含 `i`）。
    *   变量 `j` 在每次内层循环中依次取值 1, 2, ..., `i`。
    *   `j` 代表了每一行中乘法公式的第一个数字（乘数）。注意，`j` 的最大值取决于当前的 `i` 值，这正是九九乘法表每一行公式数量递增的关键。

3.  **打印乘法公式：`print(f"{j}x{i}={i*j}",end=" ")`**
    *   这是内层循环中的代码，它负责打印每一个乘法公式。
    *   我们使用了 f-string（格式化字符串字面量）来方便地构建输出字符串。`{j}x{i}={i*j}` 会将 `j`、`i` 和它们的乘积 `i*j` 格式化成 `1x1=1`、`1x2=2` 等形式。
    *   `end=" "` 是一个非常重要的参数。默认情况下，`print()` 函数在打印完内容后会自动换行。而 `end=" "` 告诉 Python 在打印完当前内容后，不要换行，而是用一个空格来结束，这样同一行的多个乘法公式就会并排显示。

4.  **换行：`print()`**
    *   这个 `print()` 语句在外层循环中，但不在内层循环中。
    *   当内层循环（即当前行的所有乘法公式）执行完毕后，外层循环会执行这个 `print()`。
    *   由于没有给 `print()` 传递任何参数，它会打印一个空行，从而实现换行的效果，使得下一行的乘法公式从新的一行开始打印。

通过外层循环控制行数，内层循环控制每行的公式数量和具体内容，我们就能完美地生成九九乘法表。

## 简单回顾

*   **嵌套循环**：一个循环内部包含另一个循环。外层循环每执行一次，内层循环就会完整地执行一遍。
*   **九九乘法表**：通过外层循环控制行数（被乘数 `i`），内层循环控制列数（乘数 `j`），并利用 `end=" "` 参数控制不换行，以及单独的 `print()` 实现行末换行。
*   嵌套循环在处理二维数据结构（如矩阵）、生成复杂模式或进行组合遍历时非常有用。

## 练习题

1.  **打印星号正方形**：
    *   使用嵌套 `for` 循环，打印一个 5x5 的星号正方形。
    *   示例输出：
        ```
        *****
        *****
        *****
        *****
        *****
        ```

2.  **打印直角三角形**：
    *   使用嵌套 `for` 循环，打印一个高度为 5 的直角三角形。
    *   示例输出：
        ```
        *
        **
        ***
        ****
        *****
        ```

3.  **修改九九乘法表**：
    *   修改九九乘法表的代码，使其只打印乘积为偶数的公式。
    *   提示：你可能需要用到条件语句 `if`。

## 接下来学什么？

掌握了嵌套循环后，你可以尝试解决更复杂的模式打印问题，或者探索如何将循环与之前学过的条件语句、列表等结合起来，实现更强大的功能。例如：
*   使用嵌套循环遍历列表中的列表（二维列表）。
*   结合 `if` 语句在循环中进行条件判断。
*   探索 `while` 循环和嵌套 `while` 循环。

继续练习，你会发现循环是编程中解决重复性任务的基石！